[{"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\index.js":"1","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\App.js":"2","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\context.js":"3","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\firebase.js":"4","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Login2.js":"5","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Dashboard.js":"6","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Navigation.js":"7","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Header.js":"8","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\DashboardPanel.js":"9","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Users.js":"10","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Collection.js":"11","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Profile.js":"12","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\ApiGenerator.js":"13","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\NewEntry.js":"14","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\EditEntry.js":"15"},{"size":572,"mtime":1612346237067,"results":"16","hashOfConfig":"17"},{"size":3604,"mtime":1612351271729,"results":"18","hashOfConfig":"17"},{"size":2122,"mtime":1612195689707,"results":"19","hashOfConfig":"17"},{"size":574,"mtime":1611763187113,"results":"20","hashOfConfig":"17"},{"size":2795,"mtime":1611741714469,"results":"21","hashOfConfig":"17"},{"size":1329,"mtime":1612351604630,"results":"22","hashOfConfig":"17"},{"size":3324,"mtime":1612362614889,"results":"23","hashOfConfig":"17"},{"size":1681,"mtime":1612171999087,"results":"24","hashOfConfig":"17"},{"size":1577,"mtime":1612350650256,"results":"25","hashOfConfig":"17"},{"size":6182,"mtime":1612195744804,"results":"26","hashOfConfig":"17"},{"size":5544,"mtime":1612366819907,"results":"27","hashOfConfig":"17"},{"size":1473,"mtime":1612171999095,"results":"28","hashOfConfig":"17"},{"size":111,"mtime":1611741714461,"results":"29","hashOfConfig":"17"},{"size":3297,"mtime":1612365352329,"results":"30","hashOfConfig":"17"},{"size":4094,"mtime":1612365328770,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1gyl5h9",{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"38"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"38"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"38"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\index.js",[],"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\App.js",["66"],"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\context.js",[],["67","68"],"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\firebase.js",[],"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Login2.js",[],"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Dashboard.js",["69","70"],"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Navigation.js",["71","72"],"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Header.js",["73","74","75"],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport {Link} from 'react-router-dom'\r\nimport { AuthContext, DataContext } from \"../context\";\r\nimport firebase from \"../firebase\";\r\nimport { db } from \"../firebase\";\r\nimport \"./styles/header.css\";\r\nimport Avatar from '@material-ui/core/Avatar'\r\n\r\nexport default function Header() {\r\n  const { user } = useContext(AuthContext); //current user info\r\n  const { userData } = useContext(DataContext)\r\n\r\n  const [currentUserRole, setCurrentUserRole] = useState(\"editor\"); //current users role\r\n\r\n \r\n  //match users database to current user and set current role\r\n  useEffect(() => {\r\n    userData.forEach((currUser) => {\r\n      if (currUser.email == user.email) {\r\n        setCurrentUserRole(currUser.role);\r\n      }\r\n    });\r\n  }, [userData]);\r\n\r\n  const logOut = () => {\r\n    firebase.auth().signOut();\r\n  };\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"header__userInfo\">\r\n      <Link style={{display:\"flex\", color:\"black\", alignItems:\"center\", marginRight: \"0rem\"}}to=\"/profile\">\r\n        <Avatar src={user.photoURL} style={{marginRight: \"8px\"}}/>\r\n        <div>\r\n        <p>{user.displayName}</p>\r\n        <p style={{ opacity: \"0.5\", fontSize: \"8px\" }}>, {currentUserRole}</p>\r\n        </div>\r\n        </Link>\r\n      </div>\r\n      <button onClick={logOut}>log out</button>\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\DashboardPanel.js",["76","77"],"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Users.js",["78"],"import React, { useState, useContext, useEffect } from \"react\";\r\nimport \"./styles/users.css\";\r\nimport { DataContext } from \"../context\";\r\nimport { db } from \"../firebase\";\r\n\r\nimport { Button } from '@material-ui/core';\r\n\r\nconst CryptoJS = require('crypto-js');\r\n\r\nexport default function Users() {\r\n  const { collections, userData, setUserData } = useContext(DataContext);\r\n  const [selectedDatabase, setSelectedDatabase] = useState(\"\");\r\n  const [users, setUsers] = useState([]);\r\n  const [role, setRole] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setUsers(userData);\r\n  }, [userData]);\r\n\r\n  const toggleEdit = (index) => {\r\n    const usersCopy = [...users];\r\n    if (usersCopy[index].editUser !== true) {\r\n      usersCopy.forEach((user) => {\r\n        user.editUser = false;\r\n      });\r\n    }\r\n    usersCopy[index].editUser = !usersCopy[index].editUser;\r\n    setUsers(usersCopy);\r\n<<<<<<< HEAD\r\n    setName(user.displayName);\r\n    \r\n=======\r\n    setRole(role || users[index].role || \"editor\");\r\n>>>>>>> 0d404537833c40363e4638e21a0bf8cfa986e6aa\r\n  };\r\n\r\n  // check if checkbox is checked, set database state according to\r\n  const handleDatabaseAccess = (e) => {\r\n    if (e.target.checked) {\r\n      // return (cancel) if item is already in array\r\n      if (selectedDatabase.includes(e.target.value)) return;\r\n      //add item if checked\r\n      setSelectedDatabase([...selectedDatabase, e.target.value]);\r\n      console.log(selectedDatabase);\r\n    } else {\r\n      //remove item if unchecked\r\n      const copyOfSelectedDatabase = [...selectedDatabase];\r\n      const index = copyOfSelectedDatabase.indexOf(e.target.value);\r\n      copyOfSelectedDatabase.splice(index, 1);\r\n      setSelectedDatabase(copyOfSelectedDatabase);\r\n    }\r\n  };\r\n\r\n  //update user button\r\n  const updateUser = (email, index) => {\r\n    const userRef = db.collection(\"users\").doc(email);\r\n\r\n    //firestore database\r\n    userRef.update({\r\n      //update these properties:\r\n      access: selectedDatabase,\r\n      role: role,\r\n    });\r\n    const copyOfUserData = [...userData];\r\n    copyOfUserData[index].access = selectedDatabase;\r\n    copyOfUserData[index].role = role;\r\n\r\n    setUserData(copyOfUserData);\r\n  };\r\n\r\n  const handleRole = (e) => {\r\n    console.log(e.target.checked);\r\n    if (e.target.checked) {\r\n      setRole(\"admin\");\r\n    } else {\r\n      setRole(\"editor\");\r\n    }\r\n    console.log(role);\r\n  };\r\n\r\n  const gaur = \"nonni\"\r\n\r\n  //API KEY GENERATION\r\n\r\n\r\n\r\n \r\n\r\n  return (\r\n    <div className=\"users__comp\">\r\n      {/* TABLE TITLES */}\r\n      <div className=\"users__header\">\r\n        <h4>Name</h4>\r\n        <h4>E-mail</h4>\r\n        <h4>Role</h4>\r\n        <h4>Access</h4>\r\n      </div>\r\n\r\n      {/* DISPLAY USER DATA */}\r\n      {users.length > 0 ? (\r\n        <div>\r\n          {users.map((user, index) => (\r\n            <div key={user.email}>\r\n              <div\r\n                onClick={(e) => {\r\n                  toggleEdit(index);\r\n                }}\r\n                className=\"user__data\"\r\n                key={user.email}\r\n              >\r\n                <p>{user.name}</p>\r\n                <p>{user.email}</p>\r\n                {user.role === \"admin\" ? <p>{user.role}</p> : <p>Editor</p>}\r\n\r\n                {user.access ? <p>{user.access}</p> : <p>No access</p>}\r\n\r\n                {/* EDITMODE */}\r\n              </div>\r\n              {user.editUser ? (\r\n                <div className=\"editmode__container\">\r\n                  \r\n                  <div className=\"users__editMode\">\r\n                    \r\n                    <div>\r\n                      <h3 className=\"users__editModeTitle\">User role</h3>\r\n\r\n                      <label htmlFor=\"\">\r\n                        admin\r\n                        <input\r\n                          name=\"role\"\r\n                          type=\"checkbox\"\r\n                          checked={role === \"admin\"}\r\n                          onChange={(e) => {\r\n                            handleRole(e);\r\n                          }}\r\n                        />\r\n                      </label>\r\n                    </div>\r\n                    {/* FOR EACH DATABASE, RENDER ITEM */}\r\n                    <div\r\n                      style={{ backgroundColor: \"yellow\", maxWidth: \"20vw\" }}\r\n                    >\r\n                      <h3 className=\"users__editModeTitle\">Database Access:</h3>\r\n                      {collections.map((collection) => (\r\n                        <div key={collection.collection}>\r\n                          <label className=\"uppercase\" htmlFor=\"\">\r\n                            {collection.collection}\r\n                          </label>\r\n                          <input\r\n                            onChange={(e) => {\r\n                              handleDatabaseAccess(e);\r\n                            }}\r\n                            type=\"checkbox\"\r\n                            value={collection.collection}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                    \r\n                    </div>\r\n\r\n                    {/* EDITMODE FOOTER */}\r\n                    <div classname=\"editMode__footer\">\r\n                      <div style={{display:\"flex\", flexDirection:\"column\", alignItems: \"center\", margin: \"0 auto\"}}> \r\n                        <div style={{display: \"flex\", flexDirection: \"column\", textAlign:\"center\"}}>\r\n                          <label htmlFor=\"\">Your API key</label>\r\n                          <input type=\"text\" value=\"API KEY\" readOnly/>\r\n                          <Button style={{background: \"#FFFFFF\", boxShadow:\"0px 4px 4px rgba(0,0,0,0.25\", borderRadius: \"10px\", marginBottom:\"2rem\", marginTop:\"5px\"}}>generate api key</Button>\r\n                        </div>\r\n                        <Button style={{background: \"#FFFFFF\", boxShadow:\"0px 4px 4px rgba(0,0,0,0.25\", borderRadius: \"10px\"}}\r\n                          onClick={() => {\r\n                            updateUser(user.email, index);\r\n                            toggleEdit(index);\r\n                          }}>Update User</Button>\r\n                          </div>\r\n                    </div>\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p>loading users..</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Collection.js",["79","80","81"],"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\Profile.js",["82","83","84"],"import React, { useContext, useState } from \"react\";\r\nimport \"./styles/profile.css\";\r\nimport firebase from \"../firebase\";\r\nimport { AuthContext } from \"../context\";\r\n\r\nexport default function Profile() {\r\n  const { user } = useContext(AuthContext);\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  const editProfile = () => {\r\n    setEditMode(!editMode);\r\n  };\r\n\r\n  const logUser = () => {\r\n    console.log(user);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {editMode ? (\r\n        //in edit mode\r\n        <div>\r\n          <img className=\"profile__avatar\" src={user.photoURL} />\r\n          <div>\r\n            <h4>Name</h4>\r\n            <input type=\"text\" placeholder={user.displayName} />\r\n          </div>\r\n          <div>\r\n            <h4>E-mail</h4>\r\n            <input type=\"email\" placeholder={user.email} />\r\n          </div>\r\n          <div>\r\n            <h4>Image URL</h4>\r\n            <input type=\"text\" placeholder={user.photoURL} />\r\n          </div>\r\n          <div>\r\n            <button onClick={editProfile}>cancel</button>\r\n            <button onClick={editProfile}>update profile</button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        //normal mode\r\n        <div className=\"profile__container\">\r\n          <img className=\"profile__avatar\" src={user.photoURL} />\r\n          <h1>{user.displayName}</h1>\r\n          <button onClick={editProfile}>edit profile</button>\r\n          <button onClick={logUser}>console log user</button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\ApiGenerator.js",[],"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\NewEntry.js",[],"C:\\Users\\Björg\\Documents\\Vefþróun\\Development\\efni_cms\\src\\components\\EditEntry.js",[],{"ruleId":"85","severity":1,"message":"86","line":34,"column":9,"nodeType":"87","messageId":"88","endLine":43,"endColumn":10},{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","severity":1,"message":"94","line":2,"column":27,"nodeType":"95","messageId":"96","endLine":2,"endColumn":33},{"ruleId":"93","severity":1,"message":"97","line":2,"column":42,"nodeType":"95","messageId":"96","endLine":2,"endColumn":46},{"ruleId":"93","severity":1,"message":"98","line":10,"column":11,"nodeType":"95","messageId":"96","endLine":10,"endColumn":22},{"ruleId":"93","severity":1,"message":"99","line":11,"column":10,"nodeType":"95","messageId":"96","endLine":11,"endColumn":25},{"ruleId":"93","severity":1,"message":"100","line":5,"column":10,"nodeType":"95","messageId":"96","endLine":5,"endColumn":12},{"ruleId":"101","severity":1,"message":"102","line":19,"column":26,"nodeType":"103","messageId":"104","endLine":19,"endColumn":28},{"ruleId":"105","severity":1,"message":"106","line":23,"column":6,"nodeType":"107","endLine":23,"endColumn":16,"suggestions":"108"},{"ruleId":"93","severity":1,"message":"109","line":7,"column":34,"nodeType":"95","messageId":"96","endLine":7,"endColumn":48},{"ruleId":"105","severity":1,"message":"106","line":18,"column":6,"nodeType":"107","endLine":18,"endColumn":16,"suggestions":"110"},{"ruleId":"93","severity":1,"message":"111","line":92,"column":9,"nodeType":"95","messageId":"96","endLine":92,"endColumn":19},{"ruleId":"105","severity":1,"message":"112","line":50,"column":6,"nodeType":"107","endLine":50,"endColumn":30,"suggestions":"113"},{"ruleId":"114","severity":1,"message":"115","line":131,"column":15,"nodeType":"116","endLine":131,"endColumn":19},{"ruleId":"114","severity":1,"message":"115","line":132,"column":15,"nodeType":"116","endLine":132,"endColumn":19},{"ruleId":"93","severity":1,"message":"117","line":3,"column":8,"nodeType":"95","messageId":"96","endLine":3,"endColumn":16},{"ruleId":"118","severity":1,"message":"119","line":23,"column":11,"nodeType":"116","endLine":23,"endColumn":66},{"ruleId":"118","severity":1,"message":"119","line":44,"column":11,"nodeType":"116","endLine":44,"endColumn":66},"default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-native-reassign",["120"],"no-negated-in-lhs",["121"],"no-unused-vars","'Router' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'collections' is assigned a value but never used.","'currentUserRole' is assigned a value but never used.","'db' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'user.email'. Either include it or remove the dependency array.","ArrayExpression",["122"],"'setCollections' is assigned a value but never used.",["123"],"'handleName' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'user.email' and 'userData'. Either include them or remove the dependency array. Outer scope values like 'window.location.search' aren't valid dependencies because mutating them doesn't re-render the component.",["124"],"jsx-a11y/heading-has-content","Headings must have content and the content must be accessible by a screen reader.","JSXOpeningElement","'firebase' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","no-global-assign","no-unsafe-negation",{"desc":"125","fix":"126"},{"desc":"125","fix":"127"},{"desc":"125","fix":"128"},"Update the dependencies array to be: [user.email, userData]",{"range":"129","text":"130"},{"range":"131","text":"130"},{"range":"132","text":"130"},[790,800],"[user.email, userData]",[648,658],[1921,1945]]