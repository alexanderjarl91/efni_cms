[{"/Users/alexanderjarl/Desktop/efni_cms/src/index.js":"1","/Users/alexanderjarl/Desktop/efni_cms/src/App.js":"2","/Users/alexanderjarl/Desktop/efni_cms/src/context.js":"3","/Users/alexanderjarl/Desktop/efni_cms/src/firebase.js":"4","/Users/alexanderjarl/Desktop/efni_cms/src/components/Login2.js":"5","/Users/alexanderjarl/Desktop/efni_cms/src/components/Dashboard.js":"6","/Users/alexanderjarl/Desktop/efni_cms/src/components/Navigation.js":"7","/Users/alexanderjarl/Desktop/efni_cms/src/components/Users.js":"8","/Users/alexanderjarl/Desktop/efni_cms/src/components/Profile.js":"9","/Users/alexanderjarl/Desktop/efni_cms/src/components/Header.js":"10","/Users/alexanderjarl/Desktop/efni_cms/src/components/Collection.js":"11","/Users/alexanderjarl/Desktop/efni_cms/src/components/ApiGenerator.js":"12","/Users/alexanderjarl/Desktop/efni_cms/src/components/DashboardPanel.js":"13","/Users/alexanderjarl/Desktop/efni_cms/src/components/NewEntry.js":"14","/Users/alexanderjarl/Desktop/efni_cms/src/components/EditEntry.js":"15"},{"size":550,"mtime":1612452997403,"results":"16","hashOfConfig":"17"},{"size":3288,"mtime":1612459636240,"results":"18","hashOfConfig":"17"},{"size":2157,"mtime":1612462576129,"results":"19","hashOfConfig":"17"},{"size":1023,"mtime":1612472703852,"results":"20","hashOfConfig":"17"},{"size":2567,"mtime":1612454184681,"results":"21","hashOfConfig":"17"},{"size":1216,"mtime":1612462916964,"results":"22","hashOfConfig":"17"},{"size":4185,"mtime":1612465677531,"results":"23","hashOfConfig":"17"},{"size":8197,"mtime":1612463777368,"results":"24","hashOfConfig":"17"},{"size":2490,"mtime":1612466116267,"results":"25","hashOfConfig":"17"},{"size":1617,"mtime":1612463008452,"results":"26","hashOfConfig":"17"},{"size":6858,"mtime":1612452997396,"results":"27","hashOfConfig":"17"},{"size":106,"mtime":1612452997395,"results":"28","hashOfConfig":"17"},{"size":2197,"mtime":1612462219666,"results":"29","hashOfConfig":"17"},{"size":3587,"mtime":1612452997396,"results":"30","hashOfConfig":"17"},{"size":4299,"mtime":1612452997396,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"14pcy67",{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"34"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"34"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"34"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"34"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"34"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"/Users/alexanderjarl/Desktop/efni_cms/src/index.js",[],["71","72"],"/Users/alexanderjarl/Desktop/efni_cms/src/App.js",["73"],"import \"./App.css\";\nimport React, { useState, useContext } from \"react\";\nimport firebase from \"./firebase\";\nimport { AuthContext } from \"./context\";\n\n//import components\nimport Login2 from \"./components/Login2\";\nimport Dashboard from \"./components/Dashboard\";\n\nfunction App() {\n  //fetching user state from context\n  const { user } = useContext(AuthContext);\n\n  //declaring local states\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [hasAccount, setHasAccount] = useState(false);\n\n  const clearErrors = () => {\n    setEmailError(\"\");\n    setPasswordError(\"\");\n  };\n\n  //sign in using state of email and state of password\n  const handleLogin = () => {\n    clearErrors();\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .catch((err) => {\n        switch (err.code) {\n          case \"auth/invalid-email\":\n          case \"auth/user-disabled\":\n          case \"auth/user-not-found\":\n            setEmailError(err.message);\n            break;\n          case \"auth/wrong-password\":\n            setPasswordError(err.message);\n            break;\n        }\n      });\n  };\n\n  //sign up using email and password\n  const handleSignup = () => {\n    clearErrors();\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      //then create a document in the database\n      .then(function (user) {\n        var userProfile = firebase.auth().currentUser;\n\n        userProfile\n          .updateProfile({\n            displayName: name,\n            photoURL:\n              \"https://herrmans.eu/wp-content/uploads/2019/01/765-default-avatar.png\",\n          })\n          .then(() => {\n            const userUid = user.user.uid;\n            const email = user.user.email;\n            const name = user.user.displayName;\n\n            const account = {\n              useruid: userUid,\n              email: email,\n              name: name,\n              photoURL:\n                \"https://herrmans.eu/wp-content/uploads/2019/01/765-default-avatar.png\",\n            };\n            firebase.firestore().collection(\"users\").doc(email).set(account);\n          });\n      })\n      .catch((err) => {\n        switch (err.code) {\n          case \"auth/email-already-in-use\":\n          case \"auth/invalid-email\":\n          case \"auth/user-not-found\":\n            setEmailError(err.message);\n            break;\n          case \"auth/weak-password\":\n            setPasswordError(err.message);\n            break;\n          default:\n            console.log(err);\n        }\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      {user ? (\n        <>\n          <Dashboard />\n        </>\n      ) : (\n        <Login2\n          email={email}\n          setEmail={setEmail}\n          password={password}\n          setPassword={setPassword}\n          handleLogin={handleLogin}\n          handleSignup={handleSignup}\n          hasAccount={hasAccount}\n          setHasAccount={setHasAccount}\n          emailError={emailError}\n          passwordError={passwordError}\n          name={name}\n          setName={setName}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","/Users/alexanderjarl/Desktop/efni_cms/src/context.js",[],"/Users/alexanderjarl/Desktop/efni_cms/src/firebase.js",[],"/Users/alexanderjarl/Desktop/efni_cms/src/components/Login2.js",["74","75"],"import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport \"./styles/login.css\";\nimport matterLogoDark from \"../images/logo_dark.svg\";\n\n//getting props\nexport default function Login({\n  email,\n  setEmail,\n  password,\n  setPassword,\n  name,\n  setName,\n  handleLogin,\n  handleSignup,\n  hasAccount,\n  setHasAccount,\n  emailError,\n  passwordError,\n}) {\n  //styling\n\n  return (\n    <div className=\"loginContainer\">\n      <img src={matterLogoDark} />\n      {hasAccount ? (\n        <div>\n          {/* <h1>Log in</h1> */}\n          <p className=\"loginText\">Log in</p>\n        </div>\n      ) : (\n        <div>\n          {/* <h1>Sign up</h1> */}\n          <p className=\"loginText\">Sign up</p>\n          <TextField\n            style={{ color: \"white\" }}\n            id=\"outlined-basic\"\n            autoFocus\n            required\n            value={name}\n            onChange={(e) => {\n              setName(e.target.value);\n              console.log(name);\n            }}\n            label=\"Name\"\n            style={{ width: \"100%\" }}\n          ></TextField>\n        </div>\n      )}\n      <TextField\n        id=\"outlined-basic\"\n        autoFocus\n        required\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        label=\"Email\"\n      ></TextField>\n      <p className=\"errorMsg\">{emailError}</p>\n\n      <TextField\n        type=\"password\"\n        required\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n        id=\"outlined-basic\"\n        label=\"Password\"\n      ></TextField>\n      <p className=\"errorMsg\">{passwordError}</p>\n\n      <div className=\"btnContainer\">\n        {/* render different stuff depending if user has account or not */}\n\n        {hasAccount ? (\n          <div>\n            <Button type=\"submit\" color=\"primary\" onClick={handleLogin}>\n              Log in\n            </Button>\n            <p className=\"footerText\">\n              Don't have an account?{\" \"}\n              <Button onClick={() => setHasAccount(!hasAccount)}>\n                Sign up\n              </Button>\n            </p>\n          </div>\n        ) : (\n          <div>\n            <Button type=\"submit\" color=\"primary\" onClick={handleSignup}>\n              Sign Up\n            </Button>\n            <p>\n              Already have an account?{\" \"}\n              <Button onClick={() => setHasAccount(!hasAccount)}>\n                Click here\n              </Button>\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n    // </form>\n  );\n}\n","/Users/alexanderjarl/Desktop/efni_cms/src/components/Dashboard.js",[],"/Users/alexanderjarl/Desktop/efni_cms/src/components/Navigation.js",["76","77"],"import React, { useContext, useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext, DataContext } from \"../context\";\nimport \"./styles/navigation.css\";\nimport matterLogo from \"../images/matter-logo.svg\";\n\nexport default function Navigation({ goToCollection, setTitle }) {\n  const { user } = useContext(AuthContext);\n  const { userData } = useContext(DataContext);\n  const { collections } = useContext(DataContext);\n  const [currentUserRole, setCurrentUserRole] = useState(\"editor\"); //current users role\n  const [showCollections, setShowCollections] = useState(false);\n  const [showAdminPanel, setShowAdminPanel] = useState(false);\n\n  //find currentUser in secondary user database\n  const currentUser = userData.find((x) => x.email === user.email);\n\n  useEffect(() => {\n    setCurrentUserRole(\"admin\");\n  }, [userData]);\n\n  const handleShowCollections = () => {\n    setShowCollections(!showCollections);\n  };\n\n  const handleShowAdminPanel = () => {\n    setShowAdminPanel(!showAdminPanel);\n  };\n\n  return (\n    <>\n      <div className=\"navbar__navWrapper\">\n        <div className=\"navbar\">\n          <nav>\n            <div className=\"navbar__header\">\n              <img className=\"navbar__logo\" src={matterLogo} alt=\"logo\" />\n              <span className=\"navbar__line\"></span>\n            </div>\n\n            <div className=\"navigation__items\">\n              <Link\n                className=\"navigation__link\"\n                to=\"/\"\n                onClick={() => {\n                  setTitle(\"/dashboard\");\n                }}\n              >\n                Dashboard\n              </Link>\n              <Link\n                className=\"navigation__link\"\n                to=\"/profile\"\n                onClick={() => {\n                  setTitle(\"/profile\");\n                }}\n              >\n                Profile\n              </Link>\n              <div className=\"navigation__dropdown\">\n                <p onClick={handleShowCollections} className=\"navigation__link\">\n                  Collections\n                </p>\n\n                {showCollections && currentUser ? (\n                  <>\n                    {currentUser.access ? (\n                      currentUser.access.map((database) => (\n                        <div key={database}>\n                          <Link\n                            onClick={() => {\n                              setTitle(`/${database}`);\n                            }}\n                            className=\"navigation__sublink\"\n                            to={{\n                              pathname: \"/collection\",\n                              search: `?name=${database}`,\n                            }}\n                          >\n                            {database}\n                          </Link>\n                        </div>\n                      ))\n                    ) : (\n                      <p style={{ color: \"white\" }}>No Access</p>\n                    )}\n                  </>\n                ) : null}\n              </div>\n\n              {currentUser ? (\n                <>\n                  {currentUser.role === \"admin\" ? (\n                    <div className=\"adminNav navigation__adminDropdown\">\n                      <button\n                        onClick={handleShowAdminPanel}\n                        className=\"navigation__link\"\n                      >\n                        Admin nav\n                      </button>\n                      {showAdminPanel ? (\n                        <div className=\"navigation__adminSublink\">\n                          <Link\n                            onClick={() => {\n                              setTitle(\"/users\");\n                            }}\n                            className=\"navigation__link\"\n                            to=\"/users\"\n                          >\n                            <p className=\"navigation__adminSublink\">Users</p>\n                          </Link>\n                        </div>\n                      ) : null}\n                    </div>\n                  ) : null}\n                </>\n              ) : null}\n            </div>\n          </nav>\n        </div>\n      </div>\n    </>\n  );\n}\n","/Users/alexanderjarl/Desktop/efni_cms/src/components/Users.js",[],"/Users/alexanderjarl/Desktop/efni_cms/src/components/Profile.js",["78","79","80"],"import React, { useContext, useEffect, useState } from \"react\";\nimport \"./styles/profile.css\";\nimport { AuthContext, DataContext } from \"../context\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { db } from \"../firebase\";\n\nexport default function Profile() {\n  const { user } = useContext(AuthContext);\n  const { userData, setUserData } = useContext(DataContext);\n  const [editMode, setEditMode] = useState(false);\n  const [image, setImage] = useState(user.photoURL);\n  const [state, setState] = useState(\"\");\n\n  const currentUser = userData.find((x) => x.email === user.email);\n\n  const editProfile = () => {\n    setEditMode(!editMode);\n  };\n\n  const uploadImage = () => {\n    console.log(currentUser.email);\n\n    const photoRef = db.collection(\"users\").doc(currentUser.email);\n\n    photoRef.update({ photoURL: image });\n\n    user\n      .updateProfile({\n        photoURL: image,\n      })\n      .then(() => {\n        setState(image);\n      });\n  };\n\n  return (\n    <>\n      {editMode ? (\n        //in edit mode\n        <div className=\"profile__editFormOverlay\">\n          <div className=\"profile__editForm\">\n            <Avatar alt=\"\" className=\"profile__avatar\" src={user.photoURL} />\n            <br />\n\n            <p>{user.displayName}</p>\n            <br />\n            <div>\n              <h4>Image URL</h4>\n              <input\n                onChange={(e) => {\n                  setImage(e.target.value);\n                }}\n                type=\"text\"\n                placeholder={user.photoURL}\n              />\n            </div>\n            <br />\n            <div className=\"profile__editButtons\">\n              <button className=\"formButtons\" onClick={editProfile}>\n                Cancel\n              </button>\n              <button\n                className=\"formButtons\"\n                onClick={() => {\n                  editProfile();\n                  uploadImage();\n                }}\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : (\n        //normal mode\n        <div className=\"profile__container\">\n          <div className=\"profile__items\">\n            {currentUser ? (\n              <img alt=\"\" className=\"profile__avatar\" src={user.photoURL} />\n            ) : null}\n            <h1>{user.displayName}</h1>\n            <button className=\"formButtons\" onClick={editProfile}>\n              Edit profile\n            </button>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","/Users/alexanderjarl/Desktop/efni_cms/src/components/Header.js",["81"],"import React, { useContext, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext, DataContext } from \"../context\";\nimport firebase from \"../firebase\";\nimport \"./styles/header.css\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\n\nexport default function Header() {\n  const { user } = useContext(AuthContext); //current user info\n  const { userData } = useContext(DataContext);\n\n  const [currentUserRole, setCurrentUserRole] = useState(\"editor\"); //current users role\n\n  //match users database to current user and set current role\n  useEffect(() => {\n    const email = user.email;\n    userData.forEach((currUser) => {\n      if (currUser.email === email) {\n        setCurrentUserRole(currUser.role);\n      }\n    });\n  }, [userData]);\n\n  const logOut = () => {\n    firebase.auth().signOut();\n  };\n\n  return (\n    <div className=\"header\">\n      <div className=\"header__userInfo\">\n        <Link\n          style={{\n            display: \"flex\",\n            color: \"black\",\n            alignItems: \"center\",\n            marginRight: \"0rem\",\n          }}\n          to=\"/profile\"\n        >\n          <Avatar src={user.photoURL} style={{ marginRight: \"8px\" }} />\n          <div className=\"header__userName\">\n            <p>{user.displayName}</p>\n            <p style={{ opacity: \"0.5\", fontSize: \"8px\" }}>\n              , {currentUserRole}\n            </p>\n          </div>\n        </Link>\n      </div>\n      <ExitToAppIcon\n        className=\"header__logout\"\n        onClick={logOut}\n      ></ExitToAppIcon>\n    </div>\n  );\n}\n","/Users/alexanderjarl/Desktop/efni_cms/src/components/Collection.js",["82","83","84"],"import React, { useEffect, useState, useContext } from \"react\";\nimport queryString from \"query-string\";\nimport NewEntry from \"./NewEntry\";\nimport EditEntry from \"./EditEntry\";\nimport { AuthContext, DataContext } from \"../context\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\nimport \"./styles/collection.css\";\n\nexport default function Collection(props) {\n  const { user } = useContext(AuthContext);\n  const { userData, refreshCollections, setRefreshCollections } = useContext(\n    DataContext\n  );\n  const [addMode, setAddMode] = useState(false);\n  const [currEndPoint, setCurrEndPoint] = useState(\"\");\n  const [currCollection, setCurrCollection] = useState([]);\n  const [productToEdit, setProductToEdit] = useState([]);\n  const [allowAccess, setAllowAccess] = useState(true);\n\n  useEffect(() => {\n    console.log(\"collection component rerenderd\");\n  }, [currCollection]);\n\n  useEffect(() => {\n    const collectionQs = queryString.parse(window.location.search);\n    const foundUser = userData.find((x) => x.email === user.email); // Get the current user object that contains the data access\n    // If the user has the requeststring in his access array we allow him access\n\n    if (foundUser && foundUser.access.includes(collectionQs.name)) {\n      //Get the collection from the url\n      setCurrEndPoint(collectionQs.name);\n      setAllowAccess(true);\n\n      const getCollection = async () => {\n        try {\n          const response = await fetch(\n            `https://efni-api.herokuapp.com/${collectionQs.name}`\n          );\n          const data = await response.json();\n          setCurrCollection(data);\n        } catch (err) {\n          console.log(err);\n        }\n      };\n      getCollection();\n    } else {\n      setAllowAccess(false);\n    }\n  }, [window.location.search]);\n\n  const toggleAddMode = () => {\n    setAddMode(!addMode);\n  };\n\n  // Handle when delete button is clicked\n  const handleDelete = async (id) => {\n    const idToken = await firebase\n      .auth()\n      .currentUser.getIdToken(/* forceRefresh */ true);\n\n    try {\n      const r = await fetch(\n        `https://efni-api.herokuapp.com/${currEndPoint}/${id}`,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: idToken,\n          },\n        }\n      );\n      const data = await r.json();\n      if (data.msg) {\n        return;\n      } else {\n        setRefreshCollections(!refreshCollections);\n        setCurrCollection(\n          currCollection.filter((product) => id !== product._id)\n        );\n      }\n    } catch (err) {\n      console.log(err);\n    }\n    // Fetch from the api with DELETE method to delete from database\n    // fetch(`http://localhost:5000/${currEndPoint}/${id}`, {\n    // })\n    //   .then((r) => {\n    //     const data = r.json()\n    //     console.log('data is: ', data);\n\n    //   })\n    //   // Filtering and finding the object to remove from id\n    //     console.log('R is: ', data);\n    // setCurrCollection(\n    // currCollection.filter((product) => id !== product._id)\n\n    //   )\n    //   .catch((error) => console.error(error));\n  };\n\n  const toggleEdit = (index) => {\n    const currCollectionCopy = [...currCollection];\n    setProductToEdit(\"\");\n    if (currCollectionCopy[index].editMode !== true) {\n      currCollectionCopy.forEach((product) => {\n        product.editMode = false;\n      });\n      setProductToEdit(currCollectionCopy[index]);\n    }\n    currCollectionCopy[index].editMode = !currCollectionCopy[index].editMode;\n    setCurrCollection(currCollectionCopy);\n  };\n\n  // Confirm alert using react-confirm-alert module\n  const handleAlert = (id) => {\n    confirmAlert({\n      title: \"Delete product!\",\n      message: \"Are you sure?\",\n      buttons: [\n        {\n          label: \"Yes\",\n          onClick: () => handleDelete(id),\n        },\n        {\n          label: \"No\",\n          onClick: () => handleAlert(),\n        },\n      ],\n    });\n  };\n\n  return (\n    <>\n      {allowAccess ? (\n        <>\n          {addMode ? (\n            <NewEntry\n              setCurrCollection={setCurrCollection}\n              currEndPoint={currEndPoint}\n              toggleAddMode={toggleAddMode}\n            />\n          ) : null}\n          <div>\n            {/* <h1>{currEndPoint}</h1> */}\n            <div className=\"collection__listWrapper\">\n              <div className=\"collection__entryHeader\">\n                <h4>entries:</h4>\n                <button className=\"formButtons\" onClick={toggleAddMode}>\n                  add new entry\n                </button>\n              </div>\n              <div className=\"collection__listHeaders\">\n                <h4>Name</h4>\n                <h4>Price</h4>\n                <h4>Image</h4>\n                <h4>On sale?</h4>\n                <h4>Description</h4>\n                <h4></h4>\n                <h4></h4>\n              </div>\n\n              {currCollection.map((product, index) => (\n                <div className=\"collection__list\" key={product._id}>\n                  <p>{product.productName}</p>\n                  <p>{product.productPrice}</p>\n                  {product.productImg ? (\n                    <a\n                      className=\"collection__imageLink\"\n                      href={product.productImg}\n                      target=\"blank\"\n                    >\n                      Link to image\n                    </a>\n                  ) : (\n                    \"No image\"\n                  )}\n                  <p>{product.productOnSale ? \"true\" : \"false\"}</p>\n                  <p>\n                    {product.productDescription.length > 50\n                      ? `${product.productDescription.substring(0, 50)} ...`\n                      : product.productDescription}\n                  </p>\n                  <EditIcon\n                    className=\"collection__actionIcons\"\n                    onClick={() => toggleEdit(index)}\n                  />\n                  <DeleteIcon\n                    className=\"collection__actionIcons\"\n                    onClick={() => handleAlert(product._id)}\n                  />\n                  {product.editMode ? (\n                    <EditEntry\n                      currEndPoint={currEndPoint}\n                      id={product._id}\n                      currCollection={currCollection}\n                      setCurrCollection={setCurrCollection}\n                      productToEdit={productToEdit}\n                    />\n                  ) : null}\n                </div>\n              ))}\n            </div>\n          </div>\n        </>\n      ) : (\n        <div>No Access to this collection</div>\n      )}\n    </>\n  );\n}\n","/Users/alexanderjarl/Desktop/efni_cms/src/components/ApiGenerator.js",[],"/Users/alexanderjarl/Desktop/efni_cms/src/components/DashboardPanel.js",["85"],"import React, { useContext, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext, DataContext } from \"../context\";\nimport DocumentIcon from \"@material-ui/icons/InsertDriveFile\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport \"./styles/dashboard.css\";\n\nexport default function DashboardPanel() {\n  const { user } = useContext(AuthContext);\n  const { userData, collections } = useContext(DataContext);\n  const [currUser, setCurrUser] = useState(undefined);\n  const [userCollection, setUserCollection] = useState([]);\n\n  useEffect(() => {\n    console.log(\"Dashboardpanel rendering\");\n  }, []);\n\n  useEffect(() => {\n    const foundUser = userData.find((x) => x.email === user.email);\n\n    // console.log(collections);\n    if (foundUser !== undefined) {\n      setCurrUser(foundUser);\n    }\n  }, [userData]);\n\n  useEffect(() => {\n    if (currUser !== undefined && currUser.access) {\n      console.log(\"Filtering\");\n      // Get all the collection object that the user should have access to\n\n      const filtered = collections.filter((item) =>\n        currUser.access.includes(item.collection)\n      );\n      setUserCollection(filtered);\n    }\n  }, [currUser, collections]);\n\n  const collectionList = userCollection.map((item, index) => (\n    <Link\n      key={index}\n      className=\"card__link\"\n      to={{ pathname: \"/collection\", search: `?name=${item.collection}` }}\n    >\n      <div className=\"collection__card\">\n        <div className=\"card__title\">{item.collection}</div>\n        <div className=\"card__document\">\n          <DocumentIcon className=\"document__icon\" />\n          {item.documentCount}\n        </div>\n        <div className=\"card__user\">\n          <PersonIcon className=\"user__icon\" />3\n        </div>\n      </div>\n    </Link>\n  ));\n\n  return (\n    <div>\n      <h1>Welcome, {user.displayName}!</h1>\n      <div>\n        <h4 className=\"dashboard__panel__title\">Your collections:</h4>\n\n        {/* collection titles */}\n        <div className=\"dashboard__grid\">\n          {/* <h4>name</h4>\n          <h4># of entries</h4>\n          <h4># of editors</h4> */}\n          {collectionList}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/Users/alexanderjarl/Desktop/efni_cms/src/components/NewEntry.js",[],["86","87"],"/Users/alexanderjarl/Desktop/efni_cms/src/components/EditEntry.js",[],{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":34,"column":9,"nodeType":"94","messageId":"95","endLine":43,"endColumn":10},{"ruleId":"96","severity":1,"message":"97","line":26,"column":7,"nodeType":"98","endLine":26,"endColumn":35},{"ruleId":"99","severity":1,"message":"100","line":47,"column":13,"nodeType":"101","endLine":47,"endColumn":38},{"ruleId":"102","severity":1,"message":"103","line":10,"column":11,"nodeType":"104","messageId":"105","endLine":10,"endColumn":22},{"ruleId":"102","severity":1,"message":"106","line":11,"column":10,"nodeType":"104","messageId":"105","endLine":11,"endColumn":25},{"ruleId":"102","severity":1,"message":"107","line":1,"column":29,"nodeType":"104","messageId":"105","endLine":1,"endColumn":38},{"ruleId":"102","severity":1,"message":"108","line":9,"column":21,"nodeType":"104","messageId":"105","endLine":9,"endColumn":32},{"ruleId":"102","severity":1,"message":"109","line":12,"column":10,"nodeType":"104","messageId":"105","endLine":12,"endColumn":15},{"ruleId":"110","severity":1,"message":"111","line":23,"column":6,"nodeType":"112","endLine":23,"endColumn":16,"suggestions":"113"},{"ruleId":"110","severity":1,"message":"114","line":54,"column":6,"nodeType":"112","endLine":54,"endColumn":30,"suggestions":"115"},{"ruleId":"116","severity":1,"message":"117","line":163,"column":17,"nodeType":"98","endLine":163,"endColumn":21},{"ruleId":"116","severity":1,"message":"117","line":164,"column":17,"nodeType":"98","endLine":164,"endColumn":21},{"ruleId":"110","severity":1,"message":"111","line":25,"column":6,"nodeType":"112","endLine":25,"endColumn":16,"suggestions":"118"},{"ruleId":"88","replacedBy":"119"},{"ruleId":"90","replacedBy":"120"},"no-native-reassign",["121"],"no-negated-in-lhs",["122"],"default-case","Expected a default case.","SwitchStatement","missingDefaultCase","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-unused-vars","'collections' is assigned a value but never used.","Identifier","unusedVar","'currentUserRole' is assigned a value but never used.","'useEffect' is defined but never used.","'setUserData' is assigned a value but never used.","'state' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'user.email'. Either include it or remove the dependency array.","ArrayExpression",["123"],"React Hook useEffect has missing dependencies: 'user.email' and 'userData'. Either include them or remove the dependency array. Outer scope values like 'window.location.search' aren't valid dependencies because mutating them doesn't re-render the component.",["124"],"jsx-a11y/heading-has-content","Headings must have content and the content must be accessible by a screen reader.",["125"],["121"],["122"],"no-global-assign","no-unsafe-negation",{"desc":"126","fix":"127"},{"desc":"126","fix":"128"},{"desc":"126","fix":"129"},"Update the dependencies array to be: [user.email, userData]",{"range":"130","text":"131"},{"range":"132","text":"131"},{"range":"133","text":"131"},[821,831],"[user.email, userData]",[1982,2006],[847,857]]